<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playwright POM Generator - Create Page Objects</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
    <style>
        .code-card {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .code-card:hover {
            transform: translateX(4px);
            border-left-color: #7c3aed;
            box-shadow: 0 10px 25px rgba(124, 58, 237, 0.2);
        }
        .tab-button {
            position: relative;
            transition: all 0.3s ease;
        }
        .tab-button::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, #7c3aed, #6366f1);
            transition: width 0.3s ease;
        }
        .tab-button.active::after,
        .tab-button:hover::after {
            width: 100%;
        }
        .file-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
            box-shadow: 0 4px 6px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }
        .file-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(102, 126, 234, 0.4);
        }
        pre code {
            border-radius: 12px !important;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .copy-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .code-wrapper:hover .copy-button {
            opacity: 1;
        }
        .download-icon {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [pages, setPages] = useState([]);
            const [pageName, setPageName] = useState('');
            const [pageUrl, setPageUrl] = useState('');
            const [baseUrl, setBaseUrl] = useState('https://demo.playwright.dev/todomvc');
            const [generatedFiles, setGeneratedFiles] = useState({});
            const [mainTab, setMainTab] = useState('pageObjects');
            const [selectedPageObject, setSelectedPageObject] = useState(null);
            const [selectedTest, setSelectedTest] = useState(null);
            const [selectedConfig, setSelectedConfig] = useState(null);
            const [showOutput, setShowOutput] = useState(false);
            const [copiedFile, setCopiedFile] = useState(null);

            useEffect(() => {
                if (showOutput && Object.keys(generatedFiles).length > 0) {
                    setTimeout(() => {
                        document.querySelectorAll('pre code').forEach((block) => {
                            hljs.highlightElement(block);
                        });
                    }, 100);
                }
            }, [showOutput, generatedFiles, selectedPageObject, selectedTest, selectedConfig, mainTab]);

            const copyToClipboard = (content, filename) => {
                navigator.clipboard.writeText(content).then(() => {
                    setCopiedFile(filename);
                    setTimeout(() => setCopiedFile(null), 2000);
                });
            };

            const validatePageName = (name) => {
                if (!name || name.trim().length === 0) {
                    return { valid: false, error: 'Page name is required' };
                }
                if (!/^[A-Z][a-zA-Z0-9]*$/.test(name)) {
                    return { valid: false, error: 'Page name must start with capital letter and contain only alphanumeric characters' };
                }
                if (!name.endsWith('Page')) {
                    return { valid: false, error: 'Page name should end with "Page" (e.g., LoginPage)' };
                }
                return { valid: true };
            };

            const addPage = () => {
                const validation = validatePageName(pageName);
                if (!validation.valid) {
                    alert(validation.error);
                    return;
                }
                setPages([...pages, { name: pageName, url: pageUrl }]);
                setPageName('');
                setPageUrl('');
            };

            const removePage = (index) => {
                setPages(pages.filter((_, i) => i !== index));
            };

            const generateSamplePageObject = (page) => {
                return `import { Page, Locator } from '@playwright/test';

export class ${page.name} {
    readonly page: Page;
    
    // TODO: Replace these sample locators with your actual page elements
    private usernameInput = '#username';
    private passwordInput = '#password';
    private submitButton = 'button[type="submit"]';
    private errorMessage = '.error-message';
    private successMessage = '.success-message';
    
    constructor(page: Page) {
        this.page = page;
    }
${page.url ? `
    async navigate(): Promise<void> {
        await this.page.goto('${page.url}');
    }
` : ''}
    // Getter Methods - Returns Promise<Locator>
    async getUsernameInput(): Promise<Locator> {
        return this.page.locator(this.usernameInput);
    }

    async getPasswordInput(): Promise<Locator> {
        return this.page.locator(this.passwordInput);
    }

    async getSubmitButton(): Promise<Locator> {
        return this.page.locator(this.submitButton);
    }

    async getErrorMessage(): Promise<Locator> {
        return this.page.locator(this.errorMessage);
    }

    async getSuccessMessage(): Promise<Locator> {
        return this.page.locator(this.successMessage);
    }

    // Action Methods - Returns Promise<void>
    async fillUsername(username: string): Promise<void> {
        await (await this.getUsernameInput()).fill(username);
    }

    async fillPassword(password: string): Promise<void> {
        await (await this.getPasswordInput()).fill(password);
    }

    async clickSubmit(): Promise<void> {
        await (await this.getSubmitButton()).click();
    }

    // Validation Methods
    async getErrorText(): Promise<string> {
        return await (await this.getErrorMessage()).textContent() || '';
    }

    async getSuccessText(): Promise<string> {
        return await (await this.getSuccessMessage()).textContent() || '';
    }

    async isErrorVisible(): Promise<boolean> {
        return await (await this.getErrorMessage()).isVisible();
    }

    async isSuccessVisible(): Promise<boolean> {
        return await (await this.getSuccessMessage()).isVisible();
    }

    // Utility Methods
    async waitForPageLoad(): Promise<void> {
        await this.page.waitForLoadState('networkidle');
    }

    async isVisible(selector: string): Promise<boolean> {
        return await this.page.locator(selector).isVisible();
    }

    async waitForElement(selector: string, timeout: number = 5000): Promise<void> {
        await this.page.waitForSelector(selector, { timeout });
    }
}`;
            };

            const generateTestFile = (page) => {
                return `import { test, expect, Page } from '@playwright/test';
import { ${page.name} } from '../pages/${page.name}';

test.describe('${page.name} Tests', () => {
    let pageObject: ${page.name};

    test.beforeEach(async ({ page }: { page: Page }) => {
        // Initialize page object
        pageObject = new ${page.name}(page);
        
        // Navigate to the page
        ${page.url ? `await pageObject.navigate();` : `await page.goto('${baseUrl}');`}
        
        // Wait for page to be fully loaded
        await pageObject.waitForPageLoad();
    });

    test.afterEach(async ({ page }: { page: Page }) => {
        // Cleanup after each test
        console.log('Test completed, cleaning up...');
        
        // Optional: Take screenshot on failure
        // if (test.info().status !== test.info().expectedStatus) {
        //     await page.screenshot({ path: \`screenshots/\${test.info().title}.png\` });
        // }
    });

    test('should load ${page.name} successfully', async ({ page }: { page: Page }) => {
        // Verify page loaded
        await expect(page).toHaveURL(/./);
        await expect(page).toHaveTitle(/./);
    });

    // TODO: Replace with your actual test scenarios
    test('should validate form elements are visible', async ({ page }: { page: Page }) => {
        // Verify critical elements are visible
        const usernameInput = await pageObject.getUsernameInput();
        await expect(usernameInput).toBeVisible();
        
        const passwordInput = await pageObject.getPasswordInput();
        await expect(passwordInput).toBeVisible();
        
        const submitButton = await pageObject.getSubmitButton();
        await expect(submitButton).toBeVisible();
    });

    test('should handle form interaction', async ({ page }: { page: Page }) => {
        // Example: Test form submission
        await pageObject.fillUsername('testuser@example.com');
        await pageObject.fillPassword('SecurePass123');
        await pageObject.clickSubmit();
        
        // Wait for response
        await pageObject.waitForPageLoad();
        
        // Add your assertions here
        // await expect(await pageObject.isSuccessVisible()).toBeTruthy();
    });

    test('should validate input fields', async ({ page }: { page: Page }) => {
        // Example: Test field validation
        const usernameInput = await pageObject.getUsernameInput();
        
        // Test empty field
        await usernameInput.fill('');
        await expect(usernameInput).toBeEmpty();
        
        // Test with value
        await pageObject.fillUsername('test@example.com');
        await expect(usernameInput).toHaveValue('test@example.com');
    });

    test('should handle button states', async ({ page }: { page: Page }) => {
        const submitButton = await pageObject.getSubmitButton();
        
        // Verify button is enabled
        await expect(submitButton).toBeEnabled();
        
        // Add more button state tests as needed
    });
});`;
            };

            const generatePOM = () => {
                if (pages.length === 0) {
                    alert('Please add at least one page');
                    return;
                }

                const files = {};

                pages.forEach(page => {
                    files[`pages/${page.name}.ts`] = generateSamplePageObject(page);
                    files[`tests/${page.name.toLowerCase()}.spec.ts`] = generateTestFile(page);
                });

                // Configuration files
                files['playwright.config.ts'] = `import { defineConfig, devices } from '@playwright/test';

/**
 * Playwright Test Configuration
 * Customize this file to match your testing requirements
 */
export default defineConfig({
    testDir: './tests',
    
    // Run tests in parallel
    fullyParallel: true,
    
    // Fail the build on CI if test.only is used
    forbidOnly: !!process.env.CI,
    
    // Retry failed tests on CI
    retries: process.env.CI ? 2 : 0,
    
    // Limit workers on CI
    workers: process.env.CI ? 1 : undefined,
    
    // Reporter configuration
    reporter: [
        ['html', { outputFolder: 'playwright-report' }],
        ['json', { outputFile: 'test-results/results.json' }],
        ['list']
    ],
    
    // Shared settings for all tests
    use: {
        // Base URL for all tests
        baseURL: '${baseUrl}',
        
        // Collect trace on first retry
        trace: 'on-first-retry',
        
        // Screenshot on failure
        screenshot: 'only-on-failure',
        
        // Video on failure
        video: 'retain-on-failure',
        
        // Run in headless mode
        headless: true,
        
        // Browser viewport
        viewport: { width: 1280, height: 720 },
        
        // Ignore HTTPS errors
        ignoreHTTPSErrors: true,
        
        // Action timeout
        actionTimeout: 10000,
        
        // Navigation timeout
        navigationTimeout: 30000,
    },

    // Browser projects for cross-browser testing
    projects: [
        {
            name: 'chromium',
            use: { 
                ...devices['Desktop Chrome'],
                channel: 'chrome',
            },
        },
        {
            name: 'firefox',
            use: { 
                ...devices['Desktop Firefox'] 
            },
        },
        {
            name: 'webkit',
            use: { 
                ...devices['Desktop Safari'] 
            },
        },
        
        // Mobile browsers
        {
            name: 'Mobile Chrome',
            use: { 
                ...devices['Pixel 5'] 
            },
        },
        {
            name: 'Mobile Safari',
            use: { 
                ...devices['iPhone 12'] 
            },
        },
    ],

    // Optional: Web server configuration
    // webServer: {
    //     command: 'npm run start',
    //     url: 'http://localhost:3000',
    //     reuseExistingServer: !process.env.CI,
    //     timeout: 120000,
    // },
});`;

                files['package.json'] = JSON.stringify({
                    "name": "playwright-pom-framework",
                    "version": "1.0.0",
                    "description": "Playwright test automation framework with Page Object Model pattern",
                    "main": "index.js",
                    "scripts": {
                        "test": "playwright test",
                        "test:headed": "playwright test --headed",
                        "test:debug": "playwright test --debug",
                        "test:ui": "playwright test --ui",
                        "test:chrome": "playwright test --project=chromium",
                        "test:firefox": "playwright test --project=firefox",
                        "test:webkit": "playwright test --project=webkit",
                        "test:mobile": "playwright test --project='Mobile Chrome'",
                        "test:headed:chrome": "playwright test --project=chromium --headed",
                        "test:report": "playwright show-report",
                        "test:codegen": "playwright codegen",
                        "install:browsers": "playwright install"
                    },
                    "keywords": [
                        "playwright",
                        "testing",
                        "automation",
                        "pom",
                        "typescript",
                        "e2e"
                    ],
                    "author": "Hari Prasad MS",
                    "license": "MIT",
                    "devDependencies": {
                        "@playwright/test": "^1.41.0",
                        "@types/node": "^20.11.0",
                        "typescript": "^5.3.0"
                    }
                }, null, 2);

                files['tsconfig.json'] = JSON.stringify({
                    "compilerOptions": {
                        "target": "ES2020",
                        "module": "commonjs",
                        "lib": ["ES2020"],
                        "strict": true,
                        "esModuleInterop": true,
                        "skipLibCheck": true,
                        "forceConsistentCasingInFileNames": true,
                        "resolveJsonModule": true,
                        "moduleResolution": "node",
                        "types": ["node", "@playwright/test"],
                        "outDir": "./dist",
                        "rootDir": "./"
                    },
                    "include": [
                        "tests/**/*",
                        "pages/**/*"
                    ],
                    "exclude": [
                        "node_modules",
                        "dist",
                        "test-results",
                        "playwright-report"
                    ]
                }, null, 2);

                files['.gitignore'] = `# Dependencies
node_modules/

# Test results
test-results/
playwright-report/
playwright/.cache/

# Build outputs
dist/

# Environment files
.env
.env.local

# Logs
*.log
npm-debug.log*

# OS files
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/

# Package lock files
package-lock.json
yarn.lock`;

                files['README.md'] = `# Playwright POM Framework

## üìã Overview
Generated Playwright test framework with Page Object Model pattern and TypeScript.

**Base URL:** ${baseUrl}

## üöÄ Quick Start

### Installation
\`\`\`bash
# Install dependencies
npm install

# Install Playwright browsers
npm run install:browsers
\`\`\`

### Running Tests
\`\`\`bash
# Run all tests
npm test

# Run in headed mode (see browser)
npm run test:headed

# Run in UI mode (interactive)
npm run test:ui

# Run specific browser
npm run test:chrome
npm run test:firefox
npm run test:webkit

# Run mobile tests
npm run test:mobile

# Debug mode
npm run test:debug

# View test report
npm run test:report
\`\`\`

## üìù Customization Guide

### Step 1: Update Page Objects (\`pages/*.ts\`)

Each page object contains **TODO** comments marking areas to customize:

\`\`\`typescript
// TODO: Replace these sample locators with your actual page elements
private usernameInput = '#username';  // ‚Üê Update this
private passwordInput = '#password';  // ‚Üê Update this
\`\`\`

**What to customize:**
- Replace sample locators with your actual selectors
- Add new element locators as needed
- Update getter methods
- Modify action methods for your use case
- Add custom validation methods

### Step 2: Update Tests (\`tests/*.spec.ts\`)

Each test file includes sample tests marked with **TODO**:

\`\`\`typescript
// TODO: Replace with your actual test scenarios
test('should handle form interaction', async ({ page }) => {
    // Customize this test for your needs
});
\`\`\`

**What to customize:**
- Update test descriptions
- Modify test data and assertions
- Add new test cases
- Update expected behaviors

### Step 3: Configure Settings

Review \`playwright.config.ts\` and adjust:
- Browser settings
- Timeout values
- Screenshot/video options
- Viewport sizes

## üìÅ Project Structure

\`\`\`
.
‚îú‚îÄ‚îÄ pages/              # Page Object Models (customize locators here)
‚îú‚îÄ‚îÄ tests/              # Test specifications (customize tests here)
‚îú‚îÄ‚îÄ playwright.config.ts # Playwright configuration
‚îú‚îÄ‚îÄ package.json        # NPM scripts and dependencies
‚îú‚îÄ‚îÄ tsconfig.json       # TypeScript configuration
‚îî‚îÄ‚îÄ README.md          # This file
\`\`\`

## üéØ Best Practices

1. **Keep page objects focused** - One page object per page
2. **Use meaningful names** - Clear method and variable names
3. **Add wait conditions** - Ensure stability with proper waits
4. **Use data-testid** - When possible, use test-specific selectors
5. **Write atomic tests** - Each test should be independent

## üîß Troubleshooting

### Tests not running?
\`\`\`bash
# Make sure browsers are installed
npm run install:browsers
\`\`\`

### TypeScript errors?
\`\`\`bash
# Check tsconfig.json
# Ensure @playwright/test is installed
npm install
\`\`\`

## üìö Resources

- [Playwright Documentation](https://playwright.dev)
- [Page Object Model Pattern](https://playwright.dev/docs/pom)
- [TypeScript Guide](https://www.typescriptlang.org/)

---
Generated by [Playwright POM Generator](https://hariprasadms.github.io/pomtestbuilder/)

**Created by:** Hariprasad MS | SDER Experts Ltd
`;

                setGeneratedFiles(files);
                setShowOutput(true);
                setSelectedPageObject(null);
                setSelectedTest(null);
                setSelectedConfig(null);

                setTimeout(() => {
                    const outputElement = document.getElementById('output-section');
                    if (outputElement) {
                        outputElement.scrollIntoView({ behavior: 'smooth' });
                    }
                }, 100);
            };

            const downloadFile = (filename) => {
                const blob = new Blob([generatedFiles[filename]], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename.split('/').pop();
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const downloadAllFiles = async () => {
                const zip = new JSZip();
                Object.entries(generatedFiles).forEach(([name, content]) => {
                    zip.file(name, content);
                });
                const blob = await zip.generateAsync({ type: 'blob' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'playwright-framework.zip';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const pageObjectFiles = Object.keys(generatedFiles).filter(f => f.startsWith('pages/'));
            const testFiles = Object.keys(generatedFiles).filter(f => f.startsWith('tests/'));
            const configFiles = ['playwright.config.ts', 'package.json', 'tsconfig.json', 'README.md', '.gitignore'];

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-600 to-indigo-700">
                    {/* Header */}
                    <header className="bg-white shadow-md sticky top-0 z-50">
                        <div className="max-w-7xl mx-auto px-6 py-4 flex flex-wrap justify-between items-center gap-4">
                            <div className="flex items-center gap-4">
                                <a href="./" className="text-purple-700 hover:text-purple-900 transition font-medium">
                                    ‚Üê Home
                                </a>
                                <h1 className="text-2xl font-bold text-purple-700">üé≠ POM Generator</h1>
                            </div>
                            <nav className="flex gap-6">
                                <a href="https://playwright.dev/docs/pom" target="_blank" rel="noopener noreferrer" className="text-purple-700 hover:text-purple-900 font-medium transition hover:underline">
                                    üìö Docs
                                </a>
                                <a href="https://hariprasadms.github.io/" target="_blank" rel="noopener noreferrer" className="text-purple-700 hover:text-purple-900 font-medium transition hover:underline">
                                    üë§ About
                                </a>
                            </nav>
                        </div>
                    </header>

                    <div className="p-6">
                        <div className="max-w-7xl mx-auto bg-white rounded-xl shadow-2xl">
                            <div className="bg-gradient-to-r from-purple-600 to-indigo-700 text-white p-8 text-center">
                                <h2 className="text-3xl font-bold mb-2">Generate Page Object Models</h2>
                                <p className="text-purple-100">Create TypeScript page objects with sample code you can customize</p>
                            </div>

                            <div className="p-8">
                                {/* Base URL */}
                                <div className="mb-6 p-6 bg-blue-50 rounded-lg border-l-4 border-blue-600">
                                    <h2 className="text-2xl font-semibold text-blue-700 mb-4">üåê Application Base URL</h2>
                                    <input
                                        type="text"
                                        className="w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-600 focus:outline-none"
                                        value={baseUrl}
                                        onChange={(e) => setBaseUrl(e.target.value)}
                                        placeholder="https://your-application.com"
                                    />
                                    <p className="text-sm text-gray-600 mt-2">This will be used in your test configuration</p>
                                </div>

                                {/* Page Configuration */}
                                <div className="mb-6 p-6 bg-gray-50 rounded-lg border-l-4 border-purple-600">
                                    <h2 className="text-2xl font-semibold text-purple-700 mb-4">üìÑ Add Pages</h2>
                                    <div className="mb-3">
                                        <label className="block mb-2 font-semibold text-gray-700">Page Name (must end with "Page")</label>
                                        <input
                                            type="text"
                                            className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none"
                                            value={pageName}
                                            onChange={(e) => setPageName(e.target.value)}
                                            placeholder="e.g., LoginPage, HomePage, CheckoutPage"
                                        />
                                    </div>
                                    <div className="mb-3">
                                        <label className="block mb-2 font-semibold text-gray-700">Page URL (optional)</label>
                                        <input
                                            type="text"
                                            className="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none"
                                            value={pageUrl}
                                            onChange={(e) => setPageUrl(e.target.value)}
                                            placeholder="e.g., /login or https://example.com/login"
                                        />
                                    </div>
                                    <button onClick={addPage} className="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition shadow-lg transform hover:scale-105">
                                        + Add Page
                                    </button>
                                    <div className="flex flex-wrap gap-2 mt-4">
                                        {pages.map((p, i) => (
                                            <span key={i} className="file-badge">
                                                {p.name}
                                                <span onClick={() => removePage(i)} className="cursor-pointer text-xl hover:text-red-200 transition">√ó</span>
                                            </span>
                                        ))}
                                    </div>
                                </div>

                                {/* Generate Buttons */}
                                <div className="mb-6 p-6 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border-2 border-purple-300">
                                    <h2 className="text-2xl font-semibold text-purple-700 mb-4">‚ö° Generate Framework</h2>
                                    <div className="flex gap-3 flex-wrap">
                                        <button onClick={generatePOM} disabled={pages.length === 0} className="bg-gradient-to-r from-purple-600 to-purple-700 text-white px-8 py-3 rounded-lg font-bold hover:from-purple-700 hover:to-purple-800 transition shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                                            üöÄ Generate POM
                                        </button>
                                        <button onClick={() => { generatePOM(); setTimeout(downloadAllFiles, 500); }} disabled={pages.length === 0} className="bg-gradient-to-r from-indigo-600 to-indigo-700 text-white px-8 py-3 rounded-lg font-bold hover:from-indigo-700 hover:to-indigo-800 transition shadow-lg transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                                            <span className="download-icon inline-block">üì¶</span> Generate & Download ZIP
                                        </button>
                                    </div>
                                </div>

                                {/* Output Section */}
                                {showOutput && (
                                    <div id="output-section" className="mt-8">
                                        <div className="bg-gradient-to-r from-green-100 to-green-200 border-l-4 border-green-500 text-green-800 p-4 rounded-lg mb-6 shadow-md">
                                            ‚úÖ Generated {Object.keys(generatedFiles).length} files successfully! Sample code included - customize for your needs.
                                        </div>

                                        {/* Main Tabs */}
                                        <div className="flex gap-2 mb-6 border-b-2 border-gray-200 flex-wrap">
                                            {[
                                                { id: 'pageObjects', label: 'üìÑ Page Objects', count: pageObjectFiles.length },
                                                { id: 'tests', label: 'üß™ Tests', count: testFiles.length },
                                                { id: 'config', label: '‚öôÔ∏è Configuration', count: configFiles.length }
                                            ].map(tab => (
                                                <button 
                                                    key={tab.id} 
                                                    onClick={() => {
                                                        setMainTab(tab.id);
                                                        if (tab.id === 'pageObjects') setSelectedPageObject(pageObjectFiles[0]);
                                                        if (tab.id === 'tests') setSelectedTest(testFiles[0]);
                                                        if (tab.id === 'config') setSelectedConfig(configFiles[0]);
                                                    }} 
                                                    className={`tab-button px-6 py-3 font-semibold transition ${mainTab === tab.id ? 'text-purple-700 active' : 'text-gray-600 hover:text-purple-600'}`}
                                                >
                                                    {tab.label} ({tab.count})
                                                </button>
                                            ))}
                                        </div>

                                        {/* Page Objects Tab */}
                                        {mainTab === 'pageObjects' && (
                                            <div>
                                                <div className="grid md:grid-cols-4 gap-4 mb-6">
                                                    {pageObjectFiles.map(file => (
                                                        <button
                                                            key={file}
                                                            onClick={() => setSelectedPageObject(file)}
                                                            className={`p-4 rounded-lg font-semibold text-left transition transform hover:scale-105 ${selectedPageObject === file ? 'bg-gradient-to-br from-purple-600 to-indigo-600 text-white shadow-lg' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                                        >
                                                            <div className="text-2xl mb-2">üìÑ</div>
                                                            <div className="text-sm">{file.split('/').pop().replace('.ts', '')}</div>
                                                        </button>
                                                    ))}
                                                </div>
                                                {selectedPageObject && (
                                                    <div className="code-card bg-white p-6 rounded-lg shadow-lg">
                                                        <div className="flex justify-between items-center mb-4">
                                                            <h3 className="text-xl font-bold text-purple-700">{selectedPageObject}</h3>
                                                            <div className="flex gap-2">
                                                                <button 
                                                                    onClick={() => copyToClipboard(generatedFiles[selectedPageObject], selectedPageObject)}
                                                                    className="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition text-sm"
                                                                >
                                                                    {copiedFile === selectedPageObject ? '‚úì Copied!' : 'üìã Copy'}
                                                                </button>
                                                                <button 
                                                                    onClick={() => downloadFile(selectedPageObject)} 
                                                                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm"
                                                                >
                                                                    üíæ Download
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div className="code-wrapper relative">
                                                            <pre className="rounded-lg overflow-hidden">
                                                                <code className="typescript">{generatedFiles[selectedPageObject]}</code>
                                                            </pre>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        )}

                                        {/* Tests Tab */}
                                        {mainTab === 'tests' && (
                                            <div>
                                                <div className="grid md:grid-cols-4 gap-4 mb-6">
                                                    {testFiles.map(file => (
                                                        <button
                                                            key={file}
                                                            onClick={() => setSelectedTest(file)}
                                                            className={`p-4 rounded-lg font-semibold text-left transition transform hover:scale-105 ${selectedTest === file ? 'bg-gradient-to-br from-green-600 to-teal-600 text-white shadow-lg' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                                        >
                                                            <div className="text-2xl mb-2">üß™</div>
                                                            <div className="text-sm">{file.split('/').pop().replace('.spec.ts', '')}</div>
                                                        </button>
                                                    ))}
                                                </div>
                                                {selectedTest && (
                                                    <div className="code-card bg-white p-6 rounded-lg shadow-lg">
                                                        <div className="flex justify-between items-center mb-4">
                                                            <h3 className="text-xl font-bold text-green-700">{selectedTest}</h3>
                                                            <div className="flex gap-2">
                                                                <button 
                                                                    onClick={() => copyToClipboard(generatedFiles[selectedTest], selectedTest)}
                                                                    className="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition text-sm"
                                                                >
                                                                    {copiedFile === selectedTest ? '‚úì Copied!' : 'üìã Copy'}
                                                                </button>
                                                                <button 
                                                                    onClick={() => downloadFile(selectedTest)} 
                                                                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm"
                                                                >
                                                                    üíæ Download
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div className="code-wrapper relative">
                                                            <pre className="rounded-lg overflow-hidden">
                                                                <code className="typescript">{generatedFiles[selectedTest]}</code>
                                                            </pre>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        )}

                                        {/* Configuration Tab */}
                                        {mainTab === 'config' && (
                                            <div>
                                                <div className="grid md:grid-cols-5 gap-4 mb-6">
                                                    {configFiles.map(file => {
                                                        const icons = {
                                                            'playwright.config.ts': '‚öôÔ∏è',
                                                            'package.json': 'üì¶',
                                                            'tsconfig.json': 'üîß',
                                                            'README.md': 'üìñ',
                                                            '.gitignore': 'üö´'
                                                        };
                                                        return generatedFiles[file] && (
                                                            <button
                                                                key={file}
                                                                onClick={() => setSelectedConfig(file)}
                                                                className={`p-4 rounded-lg font-semibold text-left transition transform hover:scale-105 ${selectedConfig === file ? 'bg-gradient-to-br from-orange-600 to-red-600 text-white shadow-lg' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}
                                                            >
                                                                <div className="text-2xl mb-2">{icons[file]}</div>
                                                                <div className="text-xs break-words">{file}</div>
                                                            </button>
                                                        );
                                                    })}
                                                </div>
                                                {selectedConfig && (
                                                    <div className="code-card bg-white p-6 rounded-lg shadow-lg">
                                                        <div className="flex justify-between items-center mb-4">
                                                            <h3 className="text-xl font-bold text-orange-700">{selectedConfig}</h3>
                                                            <div className="flex gap-2">
                                                                <button 
                                                                    onClick={() => copyToClipboard(generatedFiles[selectedConfig], selectedConfig)}
                                                                    className="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition text-sm"
                                                                >
                                                                    {copiedFile === selectedConfig ? '‚úì Copied!' : 'üìã Copy'}
                                                                </button>
                                                                <button 
                                                                    onClick={() => downloadFile(selectedConfig)} 
                                                                    className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm"
                                                                >
                                                                    üíæ Download
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div className="code-wrapper relative">
                                                            <pre className="rounded-lg overflow-hidden">
                                                                <code className={selectedConfig.endsWith('.json') ? 'json' : selectedConfig.endsWith('.ts') ? 'typescript' : 'plaintext'}>
                                                                    {generatedFiles[selectedConfig]}
                                                                </code>
                                                            </pre>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        )}

                                        {/* Download All Section */}
                                        <div className="mt-8 p-8 bg-gradient-to-r from-purple-50 via-indigo-50 to-purple-50 rounded-lg border-2 border-purple-300 text-center">
                                            <h3 className="text-2xl font-bold mb-4 text-purple-800">üì¶ Download Complete Framework</h3>
                                            <button 
                                                onClick={downloadAllFiles} 
                                                className="bg-gradient-to-r from-purple-600 to-indigo-700 text-white px-10 py-4 rounded-lg font-bold text-lg hover:from-purple-700 hover:to-indigo-800 shadow-lg transition transform hover:scale-105"
                                            >
                                                <span className="download-icon inline-block mr-2">üì¶</span>
                                                Download ZIP Archive ({Object.keys(generatedFiles).length} files)
                                            </button>
                                            <p className="mt-4 text-gray-600 text-sm">
                                                Includes: Page Objects, Tests with hooks, Config files, and README with customization guide
                                            </p>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
